{"version":3,"sources":["./src/app/auth/login/login-routing.module.ts","./src/app/auth/login/login.page.html","./src/app/auth/login/login.module.ts","./src/app/auth/login/login.page.ts","./src/app/auth/login/login.page.scss"],"names":[],"mappings":"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","file":"auth-login-login-module.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {LoginPage} from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","export default \"<ion-header xmlns=\\\"http://www.w3.org/1999/html\\\">\\n  <ion-toolbar>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"row app-body h-75\\\">\\n    <main class=\\\"col main d-flex align-items-center\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-8 mx-auto\\\">\\n            <div class=\\\"card-group mat-elevation-z15\\\">\\n              <div class=\\\"card p-4\\\">\\n                <div class=\\\"card-body\\\">\\n                  <h2 class=\\\"mb-4\\\">Sign In</h2>\\n                  <form\\n                    *ngIf=\\\"!isLoggedIn\\\"\\n                    name=\\\"form\\\"\\n                    (ngSubmit)=\\\"f.form.valid && onSubmit()\\\"\\n                    #f=\\\"ngForm\\\"\\n                    novalidate>\\n                    <mat-form-field class=\\\"form-group mb-3\\\">\\n                      <mat-label>Username</mat-label>\\n                      <input\\n                        matInput\\n                        placeholder=\\\"eg: BingeBuyer\\\"\\n                        type=\\\"text\\\"\\n                        id=\\\"username\\\"\\n                        name=\\\"username\\\"\\n                        [(ngModel)]=\\\"form.username\\\"\\n                        required\\n                        #username=\\\"ngModel\\\"/>\\n                      <mat-error *ngIf=\\\"username.errors && f.submitted\\\">\\n                        Username is required!\\n                      </mat-error>\\n                    </mat-form-field>\\n                    <mat-form-field class=\\\"form-group\\\">\\n                      <mat-label >Password</mat-label>\\n                      <input\\n                        matInput\\n                        [type]=\\\"hide ? 'password' : 'text'\\\"\\n                        id=\\\"password\\\"\\n                        name=\\\"password\\\"\\n                        [(ngModel)]=\\\"form.password\\\"\\n                        required\\n                        minlength=\\\"6\\\"\\n                        #password=\\\"ngModel\\\">\\n                        <a mat-icon-button matSuffix (click)=\\\"hide = !hide\\\" [attr.aria-label]=\\\"'Hide password'\\\" [attr.aria-pressed]=\\\"hide\\\">\\n                          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\\n                        </a>\\n                      <mat-error *ngIf=\\\"password.errors && f.submitted\\\">\\n                        <mat-error *ngIf=\\\"password.errors.required\\\">\\n                          Password is required\\n                        </mat-error>\\n                        <mat-error *ngIf=\\\"password.errors.minlength\\\">\\n                          Password must be at least 6 characters\\n                        </mat-error>\\n                      </mat-error>\\n                    </mat-form-field>\\n                    <div class=\\\"form-group\\\">\\n                      <button mat-raised-button\\n                              type=\\\"submit\\\"\\n                              color=\\\"primary\\\"\\n                              class=\\\"form-control px-3\\\"> Sign In\\n                      </button>\\n                    </div>\\n                    <div class=\\\"form-group d-md-flex\\\">\\n                      <div class=\\\"w-50 text-left\\\">\\n                        <label class=\\\"checkbox-wrap checkbox-primary mb-0\\\">Remember Me\\n                          <input type=\\\"checkbox\\\" checked>\\n                          <span class=\\\"checkmark\\\"></span>\\n                        </label>\\n                      </div>\\n                      <div class=\\\"w-50 text-md-right\\\">\\n                        <a href=\\\"#\\\">Forgot Password</a>\\n                      </div>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                      <div\\n                        class=\\\"alert alert-danger\\\"\\n                        role=\\\"alert\\\"\\n                        *ngIf=\\\"f.submitted && !isLoggedIn\\\">Login failed: {{ errMsg }}\\n                      </div>\\n                    </div>\\n                  </form>\\n                </div>\\n              </div>\\n              <div class=\\\"card p-4\\\">\\n                <div class=\\\"card-body\\\">\\n                  <h2>Welcome to Sign In</h2>\\n                  <p>Don't have an account?</p>\\n                  <button\\n                    mat-raised-button\\n                    class=\\\"btn nav-link\\\"\\n                    color=\\\"accent\\\"\\n                    routerLink=\\\"/register\\\">Sign Up</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </main>\\n  </div>\\n\\n</ion-content>\\n\";","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {LoginPageRoutingModule} from './login-routing.module';\n\nimport {LoginPage} from './login.page';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        LoginPageRoutingModule,\n        MatInputModule,\n        MatButtonModule,\n        MatIconModule\n    ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {Router,} from '@angular/router';\n\n// service imports\nimport {AuthService} from '../../services/auth.service';\nimport {AuthTokenService} from '../../services/auth-token.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  form: any = {\n    username: null,\n    password: null\n  };\n  isLoggedIn = false;\n  errMsg = '';\n  roles: string[] = [];\n  hide = true;\n\n  constructor(private router: Router, private authService: AuthService, private authToken: AuthTokenService) { }\n\n  ngOnInit(): void {\n      // this.authToken.loadSession();\n      this.isLoggedIn = this.authToken.getStatus();\n      if (this.isLoggedIn){\n        this.router.navigate(['dass21']).then(err => console.log(err));\n      }\n  }\n\n  onSubmit(): void {\n    const { username, password } = this.form;\n    this.authService.login(username, password).subscribe(\n      data => {\n        this.authToken.saveSession(data.token);\n        this.authToken.loadSession();\n        this.authService.getUser();\n        this.router.navigate(['dass21']).then(err => console.log(err));\n      },\n      err => {\n        this.errMsg = err.status + ' : ' + err.error.msg;\n        console.log(err);\n      }\n    );\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}